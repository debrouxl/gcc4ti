<HTML>
<HEAD>
<TITLE>HToESI</TITLE>
<LINK REL="STYLESHEET" TYPE="TEXT/CSS" HREF="style.css">
</HEAD>
<BODY BGCOLOR="#FFFFF8">
<TABLE CLASS="INVTABLE" WIDTH="100%">
<TR>
<TD CLASS="NOBORDER" WIDTH="40"><IMG SRC="function.gif" WIDTH="32" HEIGHT="32" BORDER="0"></TD>
<TD CLASS="TITLE">HToESI</TD>
<TD CLASS="DESCRIPTION">Function (ROM Call 0x247)</TD>
</TR>
</TABLE>
<HR>
<TABLE CLASS="NOBORDER" WIDTH="100%"><TR>
<TD CLASS="HEADER" ALIGN="RIGHT"><A HREF="estack.html">estack.h</A>
</TD>
</TR></TABLE>
<P><TABLE CLASS="DEFTABLE"><TR><TD CLASS="DEFINITION"><A HREF="estack_ESI.html">ESI</A> HToESI (<A HREF="alloc_HANDLE.html">HANDLE</A> Handle);</TD></TR></TABLE>
<P CLASS="ITEMDESC"><B>Converts a handle to an expression stack index.</B>
<P>HToESI is a simple but very useful routine. It returns a pointer to the last
byte of the <A HREF="estack_MULTI_EXPR.html">MULTI_EXPR</A> structure referenced
by <I>Handle</I>. Therefore it allows for the use of TIOS variables as input
data in expression stack routines. Assuming that <I>Handle</I>
is a handle of a TIOS variable which contains an expression, HToESI will return a pointer
to the tag of the expression contained in the variable. Such a pointer may be used in
any routine which needs an argument of type <A HREF="estack_CESI.html">CESI</A>, like
<A HREF="estack_NG_approxESI.html">NG_approxESI</A>, etc. (except in functions which manipulate
the actual memory space on the expression stack, like
<A HREF="estack_delete_between.html">delete_between</A>).
In fact, HToESI simply dereferences <I>Handle</I> and adds the size plus 1 to the address.
It also may be used to determine the type of a TIOS variable, because after execution the
result points to the data type tag of the variable data.
<BR><BR>
<B>Note:</B> If the handle is not locked, HToESI must be called again after a heap compression
since the block of memory associated with the handle may have moved.
<P><HR>Used by: <A HREF="estack_NG_execute.html">NG_execute</A>, <A HREF="estack_NG_RPNToText.html">NG_RPNToText</A>, <A HREF="bascmd_cmd_andpic.html">cmd_andpic</A>, <A HREF="bascmd_cmd_archive.html">cmd_archive</A>, <A HREF="bascmd_cmd_blddata.html">cmd_blddata</A>, <A HREF="bascmd_cmd_custom.html">cmd_custom</A>, <A HREF="bascmd_cmd_cyclepic.html">cmd_cyclepic</A>, <A HREF="bascmd_cmd_dialog.html">cmd_dialog</A>, <A HREF="bascmd_cmd_fill.html">cmd_fill</A>, <A HREF="bascmd_cmd_get.html">cmd_get</A>, <A HREF="bascmd_cmd_newdata.html">cmd_newdata</A>, <A HREF="bascmd_cmd_popup.html">cmd_popup</A>, <A HREF="bascmd_cmd_rclpic.html">cmd_rclpic</A>, <A HREF="bascmd_cmd_request.html">cmd_request</A>, <A HREF="bascmd_cmd_rplcpic.html">cmd_rplcpic</A>, <A HREF="bascmd_cmd_showstat.html">cmd_showstat</A>, <A HREF="bascmd_cmd_sinreg.html">cmd_sinreg</A>, <A HREF="bascmd_cmd_sorta.html">cmd_sorta</A>, <A HREF="bascmd_cmd_sortd.html">cmd_sortd</A>, <A HREF="bascmd_cmd_toolbar.html">cmd_toolbar</A>, <A HREF="bascmd_cmd_unarchiv.html">cmd_unarchiv</A>, <A HREF="bascmd_cmd_xorpic.html">cmd_xorpic</A>, <A HREF="basfunc_push_gettype.html">push_gettype</A>, <A HREF="events_EV_defaultHandler.html">EV_defaultHandler</A>, <A HREF="events_EV_eventLoop.html">EV_eventLoop</A>, <A HREF="events_handleRclKey.html">handleRclKey</A>, <A HREF="events_handleVarLinkKey.html">handleVarLinkKey</A>, <A HREF="files_TIOS_FFindFirst.html">FFindFirst</A>, <A HREF="files_TIOS_FFindNext.html">FFindNext</A>, <A HREF="files_TIOS_FOpen.html">FOpen</A>, <A HREF="files_TIOS_FType.html">FType</A>, <A HREF="gdraw_GR3_paint3d.html">GR3_paint3d</A>, <A HREF="graphing_gdb_recall.html">gdb_recall</A>, <A HREF="homescr_HomeExecute.html">HomeExecute</A>, <A HREF="homescr_HomePushEStack.html">HomePushEStack</A>, <A HREF="homescr_HS_getAns.html">HS_getAns</A>, <A HREF="link_LIO_Receive.html">LIO_Receive</A>, <A HREF="link_OSLinkCmd.html">OSLinkCmd</A>, <A HREF="link_sendcalc.html">sendcalc</A>, <A HREF="textedit_TE_handleEvent.html">TE_handleEvent</A>, <A HREF="unknown_de_initRes.html">de_initRes</A>, <A HREF="unknown_de_loop.html">de_loop</A>, <A HREF="unknown_dv_create_graph_titles.html">dv_create_graph_titles</A>, <A HREF="unknown_EQU_select.html">EQU_select</A>, <A HREF="unknown_EQU_setStyle.html">EQU_setStyle</A>, <A HREF="unknown_FindGrFunc.html">FindGrFunc</A>, <A HREF="unknown_GetStatValue.html">GetStatValue</A>, <A HREF="unknown_GM_Derivative.html">GM_Derivative</A>, <A HREF="unknown_GM_DistArc.html">GM_DistArc</A>, <A HREF="unknown_GM_Inflection.html">GM_Inflection</A>, <A HREF="unknown_GM_Integrate.html">GM_Integrate</A>, <A HREF="unknown_GM_Intersect.html">GM_Intersect</A>, <A HREF="unknown_GM_Math1.html">GM_Math1</A>, <A HREF="unknown_GM_TanLine.html">GM_TanLine</A>, <A HREF="unknown_gr_ck_solvergraph.html">gr_ck_solvergraph</A>, <A HREF="unknown_gr_de_value.html">gr_de_value</A>, <A HREF="unknown_gr_execute_seq.html">gr_execute_seq</A>, <A HREF="unknown_gr_find_el.html">gr_find_el</A>, <A HREF="unknown_gr_seq_value.html">gr_seq_value</A>, <A HREF="unknown_InitTimeSeq.html">InitTimeSeq</A>, <A HREF="unknown_push_ans_entry.html">push_ans_entry</A>, <A HREF="unknown_push_user_func.html">push_user_func</A>, <A HREF="unknown_recall_data_var.html">recall_data_var</A>, <A HREF="unknown_Regraph.html">Regraph</A>, <A HREF="unknown_seqWebInit.html">seqWebInit</A>, <A HREF="unknown_setup_more_graph_fun.html">setup_more_graph_fun</A>, <A HREF="unknown_spike_geo_titles.html">spike_geo_titles</A>, <A HREF="unknown_spike_optionD.html">spike_optionD</A>, <A HREF="unknown_time_loop.html">time_loop</A>, <A HREF="unknown_tokenize_if_TI_92_or_text.html">tokenize_if_TI_92_or_text</A>, <A HREF="unknown_unlock_more_graph_fun.html">unlock_more_graph_fun</A>, <A HREF="unknown_VarStoreLink.html">VarStoreLink</A>, <A HREF="vat_checkCurrent.html">checkCurrent</A>, <A HREF="vat_CheckLinkLockFlag.html">CheckLinkLockFlag</A>, <A HREF="vat_ClearUserDef.html">ClearUserDef</A>, <A HREF="vat_EM_moveSymToExtMem.html">EM_moveSymToExtMem</A>, <A HREF="vat_VarRecall.html">VarRecall</A>, <A HREF="vat_VarStore.html">VarStore</A>, <A HREF="unknown_NG_setup_graph_fun.html">NG_setup_graph_fun</A>, <A HREF="unknown_NG_cleanup_graph_fun.html">NG_cleanup_graph_fun</A>, <A HREF="unknown__ROM_CALL_438.html">ROM Call 0x438</A>, <A HREF="basop_push_subscripted_element.html">push_subscripted_element</A>
</BODY>
</HTML>
